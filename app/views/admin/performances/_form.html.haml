= form_for [:admin, @performance] do |f|
  -if @performance.errors.any?
    #error_explanation
      %h2= "#{pluralize(@performance.errors.count, "error")} prohibited this admin_performance from being saved:"
      %ul
        - @performance.errors.full_messages.each do |msg|
          %li= msg

  = f.label 'Performer'
  = collection_select(:performance, :person_id, Person.where('performer = 1').order('canonical_name'), :id,
                      :canonical_name, {:prompt => 'Select a Performer'}, {:class => "chzn-select"})

  = f.label :composition_tokens, 'Composition'
  = f.text_field :composition_tokens, { 'data' => { :load => [@performance.composition] } }

  = f.label 'Performance Type'
  = collection_select(:performance, :performance_type_id, PerformanceType.order('name'), :id,
                      :name, {:prompt => 'Select a Performance Type'}, {:class => "chzn-select"})

  = f.label 'URL'
  = f.text_field :url

  .actions
    = f.submit 'Save'
